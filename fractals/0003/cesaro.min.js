function dA(t,a,e){return void 0===e||0==+e?Math[t](a):(a=+a,e=+e,isNaN(a)||"number"!=typeof e||e%1!=0?NaN:a<0?-dA(t,-a,e):(a=a.toString().split("e"),a=Math[t](+(a[0]+"e"+(a[1]?+a[1]-e:-e))),+((a=a.toString().split("e"))[0]+"e"+(a[1]?+a[1]+e:e))))}function isNormalInteger(t){var a=Math.floor(Number(t));return String(a)===t&&a>=0}function clearBMCanvas(){qF.clearRect(0,0,baseMotif.width,baseMotif.height)}function resetBZoom(){bx=-1,bX=1,by=-1,bY=1,redrawBM()}function bZ(t,a,e,i){if(!((bx<-1e3||bX>1e3||by<-1e3||bY>1e3)&&e>0||bX-bx<.001&&e<0||t<btx||t>btx+bW||a<bty||a>bty+bH)){i.preventDefault();var n=(t-btx)/bW*(bX-bx)+bx,m=(bH-a+bty)/bH*(bY-by)+by;bx=Math.pow(zr,e)*(bx-n)+n,bX=Math.pow(zr,e)*(bX-n)+n,by=Math.pow(zr,e)*(by-m)+m,bY=Math.pow(zr,e)*(bY-m)+m}}function bLine(t,a,e,i){qF.strokeStyle="#FF0000",qF.lineWidth=2,qF.save(),qF.beginPath(),qF.moveTo(btx,bty),qF.lineTo(btx+bW,bty),qF.lineTo(btx+bW,bty+bW),qF.lineTo(btx,bty+bW),qF.lineTo(btx,bty),qF.clip(),qF.beginPath(),qF.moveTo(bW*(t-bx)/(bX-bx)+btx,bH*(1-(a-by)/(bY-by))+bty),qF.lineTo(bW*(e-bx)/(bX-bx)+btx,bH*(1-(i-by)/(bY-by))+bty),qF.stroke(),qF.lineWidth=1,qF.restore()}function drawBaseGrid(){qF.textAlign="left",qF.font=tF,qF.fillText("Base Curve",btx+10,40),qF.font=aF;var t=Math.floor(Math.log10(bX-bx))-1,a=Math.pow(10,t);for(i=Math.RT(bx,t)+a;i<Math.RT(bX,t)-a/2;i+=a){var e=Math.round(mW*(i-bx)/(bX-bx))+btx+.5,n=!1;if(qF.lineWidth=1,Math.abs(i)<a/100?(qF.strokeStyle=axesColor,qF.lineWidth=2):Math.abs(Math.RT(i,t)-i)<a/100?(qF.strokeStyle=thickLineColor,n=!0,60*a<bY-by?Math.abs(Math.abs(Math.RT(Math.abs(i),t)/a%10-5)-5)>.01&&(n=!1,qF.strokeStyle=tLC):30*a<bY-by?Math.abs(Math.abs(Math.RT(Math.abs(i),t)/a%5-2.5)-2.5)>.01&&(n=!1,qF.strokeStyle=tLC):10*a<bY-by&&Math.abs(Math.abs(Math.RT(Math.abs(i),t)/a%2-1)-1)>.01&&(n=!1,qF.strokeStyle=tLC)):qF.strokeStyle=tLC,qF.beginPath(),qF.moveTo(e,bty),qF.lineTo(e,bW+bty),qF.stroke(),n){var m=bH-bH*-by/(bY-by)+bty;if(m<bH+bty&&m>bty){x=String(Math.RT(i,t));qF.textAlign="right",qF.fillText(x,e-3,m+14)}}}for(i=Math.RT(by,t)+a;i<Math.RT(bY,t)-a/2;i+=a){var r=Math.RT(bH-bH*(i-by)/(bY-by))+bty+.5,n=!1;if(qF.lineWidth=1,Math.abs(i)<a/100?(qF.strokeStyle=axesColor,qF.lineWidth=2):Math.abs(Math.RT(i,t)-i)<a/100?(qF.strokeStyle=thickLineColor,n=!0,60*a<bX-bx?Math.abs(Math.abs(Math.RT(Math.abs(i),t)/a%10-5)-5)>.01&&(n=!1,qF.strokeStyle=tLC):30*a<bX-bx?Math.abs(Math.abs(Math.RT(Math.abs(i),t)/a%5-2.5)-2.5)>.01&&(n=!1,qF.strokeStyle=tLC):10*a<bX-bx&&Math.abs(Math.abs(Math.RT(Math.abs(i),t)/a%2-1)-1)>.01&&(n=!1,qF.strokeStyle=tLC)):qF.strokeStyle=tLC,qF.beginPath(),qF.moveTo(btx,r),qF.lineTo(btx+bW,r),qF.stroke(),n){var o=bW*-bx/(bX-bx)+btx;if(o<bW+btx&&o>btx){var x=String(Math.RT(i,t));qF.textAlign="right",qF.fillText(x,o-3,r+14)}}}for(i=0;i<base.length-1;i++){var s=base[i],f=base[i+1];bLine(s[0],s[1],f[0],f[1])}}function resetMZoom(){mx=-1,mX=1,my=-1,mY=1,redrawBM()}function mZ(t,a,e,i){if(!((mx<-1e3||mX>1e3||my<-1e3||mY>1e3)&&e>0||mX-mx<.001&&e<0||t<mtx||t>mtx+mW||a<mty||a>mty+mH)){i.preventDefault();var n=(t-mtx)/mW*(mX-mx)+mx,m=(mH-a+mty)/mH*(mY-my)+my;mx=Math.pow(zr,e)*(mx-n)+n,mX=Math.pow(zr,e)*(mX-n)+n,my=Math.pow(zr,e)*(my-m)+m,mY=Math.pow(zr,e)*(mY-m)+m}}function mLine(t,a,e,i){qF.strokeStyle="#FF0000",qF.lineWidth=2,qF.save(),qF.beginPath(),qF.moveTo(mtx,mty),qF.lineTo(mtx+mW,mty),qF.lineTo(mtx+mW,mty+mW),qF.lineTo(mtx,mty+mW),qF.lineTo(mtx,mty),qF.clip(),qF.beginPath(),qF.moveTo(mW*(t-mx)/(mX-mx)+mtx,mH*(1-(a-my)/(mY-my))+mty),qF.lineTo(mW*(e-mx)/(mX-mx)+mtx,mH*(1-(i-my)/(mY-my))+mty),qF.stroke(),qF.lineWidth=1,qF.restore()}function drawMotifGrid(){qF.textAlign="left",qF.font=tF,qF.fillText("Motif",mtx+10,40),qF.font=aF;var t=Math.floor(Math.log10(mX-mx))-1,a=Math.pow(10,t);for(i=Math.RT(mx,t)+a;i<Math.RT(mX,t)-a/2;i+=a){var e=Math.round(mW*(i-mx)/(mX-mx))+mtx+.5,n=!1;if(qF.lineWidth=1,Math.abs(i)<a/100?(qF.strokeStyle=axesColor,qF.lineWidth=2):Math.abs(Math.RT(i,t)-i)<a/100?(qF.strokeStyle=thickLineColor,n=!0,60*a<mY-my&&Math.abs(Math.abs(Math.RT(Math.abs(i),t)/a%10-5)-5)>.01&&(n=!1,qF.strokeStyle=tLC),30*a<mY-my?Math.abs(Math.abs(Math.RT(Math.abs(i),t)/a%5-2.5)-2.5)>.01&&(n=!1,qF.strokeStyle=tLC):10*a<mY-my&&Math.abs(Math.abs(Math.RT(Math.abs(i),t)/a%2-1)-1)>.01&&(n=!1,qF.strokeStyle=tLC)):qF.strokeStyle=tLC,qF.beginPath(),qF.moveTo(e,mty),qF.lineTo(e,mW+mty),qF.stroke(),n){var m=mH-mH*-my/(mY-my)+mty;if(m<mH+mty&&m>mty){x=String(Math.RT(i,t));qF.textAlign="right",qF.fillText(x,e-3,m+14)}}}for(i=Math.RT(my,t)+a;i<Math.RT(mY,t)-a/2;i+=a){var r=Math.RT(mH-mH*(i-my)/(mY-my))+mty+.5,n=!1;if(qF.lineWidth=1,Math.abs(i)<a/100?(qF.strokeStyle=axesColor,qF.lineWidth=2):Math.abs(Math.RT(i,t)-i)<a/100?(qF.strokeStyle=thickLineColor,n=!0,60*a<mX-mx&&Math.abs(Math.abs(Math.RT(Math.abs(i),t)/a%10-5)-5)>.01&&(n=!1,qF.strokeStyle=tLC),30*a<mX-mx?Math.abs(Math.abs(Math.RT(Math.abs(i),t)/a%5-2.5)-2.5)>.01&&(n=!1,qF.strokeStyle=tLC):10*a<mX-mx&&Math.abs(Math.abs(Math.RT(Math.abs(i),t)/a%2-1)-1)>.01&&(n=!1,qF.strokeStyle=tLC)):qF.strokeStyle=tLC,qF.beginPath(),qF.moveTo(mtx,r),qF.lineTo(mtx+mW,r),qF.stroke(),n){var o=mW*-mx/(mX-mx)+mtx;if(o<mW+mtx&&o>mtx){var x=String(Math.RT(i,t));qF.textAlign="right",qF.fillText(x,o-3,r+14)}}}for(i=0;i<pattern.length-1;i++){var s=pattern[i],f=pattern[i+1];mLine(s[0],s[1],f[0],f[1])}}function redrawBM(){clearBMCanvas(),drawBaseGrid(),drawMotifGrid()}function updateBM(){var t=document.getElementById("baseinput").value,a=document.getElementById("motifinput").value;t=t.replace(/\[/g,"(").replace(/\{/g,"(").replace(/\]/g,")").replace(/\}/g,")").replace(/ /g,"").trim("(").trim(")"),a=a.replace(/\[/g,"(").replace(/\{/g,"(").replace(/\]/g,")").replace(/\}/g,")").replace(/ /g,"").trim("(").trim(")");var e=t.split("),("),n=1!=e.length,m=[];for(i=0;i<e.length;i++){var r=e[i].split(",");try{var o=parseFloat(r[0]),x=parseFloat(r[1]);if(isNaN(o)||isNaN(x))throw"";m.push([o,x])}catch(t){n=!1;break}}n?(document.getElementById("baseinput").style.backgroundColor="#FFFFFF",base=m):document.getElementById("baseinput").style.backgroundColor="#FF9184";var s=a.split("),("),n=1!=s.length,m=[],f=0;for(i=0;i<s.length;i++){motif=s[i].split(",");try{var o=parseFloat(motif[0]),x=parseFloat(motif[1]);if(0!=m.length){var b=m[m.length-1],h=Math.hypot(b[0]-o,b[1]-x);h>f&&(f=h)}if(isNaN(o)||isNaN(x))throw"";m.push([o,x])}catch(t){n=!1;break}}try{var l=Math.hypot(m[m.length-1][0]-m[0][0],m[m.length-1][1]-m[0][1])}catch(t){}f>.9*l&&(n=!1),n?(document.getElementById("motifinput").style.backgroundColor="#FFFFFF",pattern=m):document.getElementById("motifinput").style.backgroundColor="#FF9184"}function clearCanvas(){pI.clearRect(0,0,canvas.width,canvas.height)}function fLine(t,a,e,i){pI.beginPath(),pI.moveTo(fW*(t-fx)/(fX-fx),fH*(1-(a-fy)/(fY-fy))),pI.lineTo(fW*(e-fx)/(fX-fx),fH*(1-(i-fy)/(fY-fy))),pI.stroke()}function rotatePoint(t,a){return s=Math.sin(a),c=Math.cos(a),[t[0]*c-t[1]*s,t[0]*s+t[1]*c]}function fitPattern(t,a){var e=[],i=Math.atan2(a[1]-t[1],a[0]-t[0]),n=Math.hypot(a[0]-t[0],a[1]-t[1]);for(w=0;w<pattern.length;w++){var m=rotatePoint(pattern[w],i);e.push([m[0]*n+t[0],m[1]*n+t[1]])}return e}function fRecurse(t,a,e,i){if(!stop)if(t>=depthlimit)for(r=0;r<a.length-1;r++){var n=a[r],m=a[r+1];fLine(n[0],n[1],m[0],m[1])}else if(i){for(r=e[t]-1;r<a.length-1;r++)if(-1!==r)if(n=a[r],m=a[r+1],Math.hypot(m[0]-n[0],m[1]-n[1])<(fX-fx)/canvas.width)line(n[0],n[1],m[0],m[1]);else{if(stop)return;if(t<e.length-1){if(!1===fRecurse(t+1,fitPattern(n,m),e,!0))return!1}else if(!1===fRecurse(t+1,fitPattern(n,m),[],!1))return!1}}else for(var r=0;r<a.length-1;r++){var n=a[r],m=a[r+1],o=Math.hypot(m[0]-n[0],m[1]-n[1]);if(o<(fX-fx)/canvas.width)fLine(n[0],n[1],m[0],m[1]);else if(!(n[0]>fX+o&&m[0]>fX+o||n[0]<fx-o&&m[0]<fx-o||n[1]>fY+o&&m[1]>fY+o||n[1]<fy-o&&m[1]<fy-o)){if(stop)return!1;if(t<3){var x=e;if(x.push(r),lastPausalDate+40<(new Date).getTime())return setTimeout(function(){lastPausalDate=(new Date).getTime(),fRecurse(0,base,x,!0)},10),!1;if(!1===fRecurse(t+1,fitPattern(n,m),x,!1))return!1}else if(!1===fRecurse(t+1,fitPattern(n,m),[],!1))return!1}}}function drawFractalGrid(){var t=Math.floor(Math.log10(fX-fx))-1,a=Math.pow(10,t);for(i=Math.RT(fx,t)+a;i<Math.RT(fX,t)-a/2;i+=a){var e=Math.round(fW*(i-fx)/(fX-fx))+ftx+.5,n=!1;if(pI.lineWidth=1,Math.abs(i)<a/100){if(pI.strokeStyle=axesColor,pI.lineWidth=2,!drawAxes){if(!drawGridlines)continue;pI.strokeStyle=thickLineColor,pI.beginPath(),pI.moveTo(e,fty),pI.lineTo(e,fW+fty),pI.stroke();continue}}else if(Math.abs(Math.RT(i,t)-i)<a/100){if(!drawGridlines)continue;pI.strokeStyle=thickLineColor,n=!0,60*a<fY-fy?Math.abs(Math.abs(Math.RT(Math.abs(i),t)/a%10-5)-5)>.01&&(n=!1,pI.strokeStyle=tLC):30*a<fY-fy?Math.abs(Math.abs(Math.RT(Math.abs(i),t)/a%5-2.5)-2.5)>.01&&(n=!1,pI.strokeStyle=tLC):10*a<fY-fy&&Math.abs(Math.abs(Math.RT(Math.abs(i),t)/a%2-1)-1)>.01&&(n=!1,pI.strokeStyle=tLC)}else pI.strokeStyle=tLC;if(pI.beginPath(),pI.moveTo(e,fty),pI.lineTo(e,fW+fty),pI.stroke(),n&&drawAxes){var m=fH-fH*-fy/(fY-fy)+fty;if(m<fH+fty&&m>fty){x=String(Math.RT(i,t));pI.textAlign="right",pI.fillText(x,e-3,m+14)}}}for(i=Math.RT(fy,t)+a;i<Math.RT(fY,t)-a/2;i+=a){var r=Math.RT(fH-fH*(i-fy)/(fY-fy))+fty+.5,n=!1;if(pI.lineWidth=1,Math.abs(i)<a/100){if(pI.strokeStyle=axesColor,pI.lineWidth=2,!drawAxes){if(!drawGridlines)continue;pI.strokeStyle=thickLineColor,pI.beginPath(),pI.moveTo(ftx,r),pI.lineTo(ftx+fW,r),pI.stroke();continue}}else if(Math.abs(Math.RT(i,t)-i)<a/100){if(!drawGridlines)continue;pI.strokeStyle=thickLineColor,n=!0,60*a<fX-fx?Math.abs(Math.abs(Math.RT(Math.abs(i),t)/a%10-5)-5)>.01&&(n=!1,pI.strokeStyle=tLC):30*a<fX-fx?Math.abs(Math.abs(Math.RT(Math.abs(i),t)/a%5-2.5)-2.5)>.01&&(n=!1,pI.strokeStyle=tLC):10*a<fX-fx&&Math.abs(Math.abs(Math.RT(Math.abs(i),t)/a%2-1)-1)>.01&&(n=!1,pI.strokeStyle=tLC)}else pI.strokeStyle=tLC;if(pI.beginPath(),pI.moveTo(ftx,r),pI.lineTo(ftx+fW,r),pI.stroke(),n&&drawAxes){var o=fW*-fx/(fX-fx)+ftx;if(o<fW+ftx&&o>ftx){var x=String(Math.RT(i,t));pI.textAlign="right",pI.fillText(x,o-3,r+14)}}}}function drawFractal(){stop=!1,clearCanvas(),lastPausalDate=(new Date).getTime(),drawFractalGrid(),setTimeout(function(){pI.strokeStyle=fractalColor,fRecurse(0,base,[],!1)},0)}function resetFZoom(){fx=-1,fX=1,fy=-1,fY=1,drawFractal()}function fZ(t,a,e,i){if(i.preventDefault(),!((fx<-1e3||fX>1e3||fy<-1e3||fY>1e3)&&e>0||fX-fx<.001&&e<0||t<ftx||t>ftx+fW||a<fty||a>fty+fH)){var n=(t-ftx)/fW*(fX-fx)+fx,m=(fH-a+fty)/fH*(fY-fy)+fy;fx=Math.pow(zr,e)*(fx-n)+n,fX=Math.pow(zr,e)*(fX-n)+n,fy=Math.pow(zr,e)*(fy-m)+m,fY=Math.pow(zr,e)*(fY-m)+m}}function updateIterations(){depthlimit=document.getElementById("iterations").value,drawFractal()}function updateColor(){var t=document.getElementById("color").value.replace(/ /g,"");/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)?(fractalColor=t,document.getElementById("color").style.backgroundColor="#FFFFFF"):document.getElementById("color").style.backgroundColor="#FF9184";try{clearTimeout(sFRT)}catch(t){}sFRT=setTimeout(drawFractal,500)}function updateDrawGrid(){drawGridlines=document.getElementById("drawGrid").checked,drawFractal()}function updateDrawAxes(){drawAxes=document.getElementById("drawAxes").checked,drawFractal()}var canvas=document.getElementById("cesaro");canvas.style.position="absolute",canvas.style.left="50%",canvas.style.transform="translate(-50%, 0)";var pI=canvas.getContext("2d"),baseMotif=document.getElementById("base-motif"),qF=baseMotif.getContext("2d"),bx=-1,bX=1,by=-1,bY=1,bW=450,bH=450,btx=0,bty=62,mx=-1,mX=1,my=-1,mY=1,mW=450,mH=450,mtx=512,mty=62,axesColor="rgba(0,0,0,1)",thickLineColor="rgba(0,0,0,0.5)",tLC="rgba(0,0,0,0.2)",zr=1.04,tF="20px Cambria",aF="14px Cambria";Math.RT||(Math.RT=function(t,a){return dA("round",t,a)}),Math.floor10||(Math.floor10=function(t,a){return dA("floor",t,a)}),Math.ceil10||(Math.ceil10=function(t,a){return dA("ceil",t,a)}),String.prototype.trimLeft=function(t){return void 0===t&&(t="s"),this.replace(new RegExp("^["+t+"]+"),"")},String.prototype.trimRight=function(t){return void 0===t&&(t="s"),this.replace(new RegExp("["+t+"]+$"),"")},String.prototype.trim=function(t){return this.trimLeft(t).trimRight(t)};var lastX=450,lastY=450;baseMotif.onwheel=function(t){var a=t.wheelDelta?t.wheelDelta/40:t.detail?-t.detail:0;a&&(bZ(t.offsetX,t.offsetY,a,t),mZ(t.offsetX,t.offsetY,a,t)),redrawBM()};var bdragStartX,bdragStartY,tempbx,tempby,tempbX,tempbY,mdragStartX,mdragStartY,tempmx,tempmy,tempmX,tempmY;baseMotif.addEventListener("mousedown",function(t){lastX<btx||lastX>btx+bW||lastY<bty||lastY>bty+height||(document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none",lastX=t.offsetX||t.pageX-baseMotif.offsetLeft,lastY=t.offsetY||t.pageY-baseMotif.offsetTop,bdragStartX=(lastX-btx)/bW*(bX-bx)+bx,bdragStartY=(bH-lastY+bty)/bH*(bY-by)+by,tempbx=bx,tempby=by,tempbX=bX,tempbY=bY),lastX<mtx||lastX>mtx+mW||lastY<mty||lastY>mty+height||(document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none",lastX=t.offsetX||t.pageX-baseMotif.offsetLeft,lastY=t.offsetY||t.pageY-baseMotif.offsetTop,mdragStartX=(lastX-mtx)/mW*(mX-mx)+mx,mdragStartY=(mH-lastY+mty)/mH*(mY-my)+my,tempmx=mx,tempmy=my,tempmX=mX,tempmY=mY)},!1),baseMotif.addEventListener("mousemove",function(t){if(lastX=t.offsetX||t.pageX-baseMotif.offsetLeft,lastY=t.offsetY||t.pageY-baseMotif.offsetTop,dragged=!0,bdragStartX){e=(bH-lastY+bty)/bH*(tempbY-tempby)+tempby;if(tempbx-(a=(lastX-btx)/bW*(tempbX-tempbx)+tempbx)+bdragStartX<-1e3||tempbX-a+bdragStartX>1e3||tempby-e+bdragStartY<-1e3||tempbY-e+bdragStartY>1e3)return;bx=tempbx-a+bdragStartX,by=tempby-e+bdragStartY,bX=tempbX-a+bdragStartX,bY=tempbY-e+bdragStartY}if(mdragStartX){var a=(lastX-mtx)/mW*(tempmX-tempmx)+tempmx,e=(mH-lastY+mty)/mH*(tempmY-tempmy)+tempmy;if(tempmx-a+mdragStartX<-1e3||tempmX-a+mdragStartX>1e3||tempmy-e+mdragStartY<-1e3||tempmY-e+mdragStartY>1e3)return;mx=tempmx-a+mdragStartX,my=tempmy-e+mdragStartY,mX=tempmX-a+mdragStartX,mY=tempmY-e+mdragStartY}redrawBM()},!1),baseMotif.addEventListener("mouseup",function(t){bdragStartX=null,bdragStartY=null,mdragStartX=null,mdragStartY=null},!1);var pattern=[[0,0],[.5,.5],[1,0]],base=[[-.25,0],[.25,0]],depthlimit=5,fractalColor="#333333",drawGridlines=!0,drawAxes=!0,lastPausalDate,stop=!1,fx=-1,fX=1,fy=-1,fY=1,ftx=0,fty=0,fW=1024,fH=1024,sFRT=null,fdragStartX,fdragStartY,tempfx,tempfy,tempfX,tempfY,flastX=512,flastY=512;canvas.addEventListener("mousedown",function(t){if(!(flastX<ftx||flastX>ftx+fW||flastY<fty||flastY>fty+height)){try{clearTimeout(sFRT)}catch(t){}document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none",lastX=t.offsetX||t.pageX-canvas.offsetLeft,lastY=t.offsetY||t.pageY-canvas.offsetTop,fdragStartX=(flastX-ftx)/fW*(fX-fx)+fx,fdragStartY=(fH-flastY+fty)/fH*(fY-fy)+fy,tempfx=fx,tempfy=fy,tempfX=fX,tempfY=fY}},!1),canvas.addEventListener("mousemove",function(t){if(flastX=t.offsetX||t.pageX-canvas.offsetLeft,flastY=t.offsetY||t.pageY-canvas.offsetTop,fdragStartX){try{clearTimeout(sFRT)}catch(t){}var a=(flastX-ftx)/fW*(tempfX-tempfx)+tempfx,e=(fH-flastY+fty)/fH*(tempfY-tempfy)+tempfy;if(tempfx-a+fdragStartX<-1e3||tempfX-a+fdragStartX>1e3||tempfy-e+fdragStartY<-1e3||tempfY-e+fdragStartY>1e3)return;fx=tempfx-a+fdragStartX,fy=tempfy-e+fdragStartY,fX=tempfX-a+fdragStartX,fY=tempfY-e+fdragStartY,clearCanvas(),drawFractalGrid()}},!1),canvas.addEventListener("mouseup",function(t){fdragStartX=null,fdragStartY=null,drawFractal()},!1),canvas.onwheel=function(t){var a=t.wheelDelta?t.wheelDelta/40:t.detail?-t.detail:0;if(a)if(fZ(t.offsetX,t.offsetY,a,t),depthlimit<6)drawFractal();else{clearCanvas(),drawFractalGrid();try{clearTimeout(sFRT)}catch(t){}sFRT=setTimeout(drawFractal,20*depthlimit)}},window.onload=function(){drawFractal(),drawBaseGrid(),drawMotifGrid()};
