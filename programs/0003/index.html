<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Time Signature Metronome</title>
		<link rel="stylesheet" type="text/css" href="../../sticky.css">
		<link rel="stylesheet" type="text/css" href="../program.css">
		<!--<link rel="stylesheet" type="text/css" href="metronome.css">-->
		<link rel="stylesheet" type="text/css" href="../0002/polyrhythm.css">
		<link rel="icon" href="../../images/favicon.png" sizes="16x16" type="image/png">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	
	<body>
		<div class="content">
			<h1>Time Signature Metronome</h1>
			<p>21 June, 2017 &ndash; <a href="https://github.com/anematode" target="_blank">anematode</a></p>
			
			<p id="output"></p>

			<div class="box">
				<p>
				  <strong>Numbers</strong>: Inputting a number defines beat length.<br>
				  This is mandatory. All other syntax is optional.
				  <br><br>
				  <strong>Plus Sign</strong>: Different beats can be added together with "+".<br>
				  Example: 3+3+2 plays 2 3-length beats and a 2-length beat.
				  <br><br>
				  <strong>Asterisk</strong>: The asterisk denotes a repetition of beats.<br>
				  Example: 3+3+3+2 can be written as 3*3+2.
				  <br><br>
				  <strong>Parentheses</strong>: Parentheses are used to group beats.<br>
				  Example: 3+2+3+2 is identical to 2*(3+2).
				  <br><br>
				  <strong>Commas</strong>: Commas are the end of measures.<br>
				  Example: 3+2,3+2+2 is a measure of 5 followed by a measure of 7.
				  <br><br>
				  <strong>Full example</strong>: 2*(3+2+3,) 4*2<br>
				  Two measures in the accent pattern X x x X x X x x and<br>
				  One measure in the accent pattern X x X x X x X x.<br><br>
				  Note that if the comma were <i>outside</i> the parentheses,<br>
				  The first two measures would be combined into one.
				  <br><br>
				  <strong>Denominator</strong>: This must be a power of 2 from 1 and 64.
				</p>
				
				<br>

				<div class="signature-label">
					<p><strong>Time Signature</strong></p>
					<div class="signature" id="signature">
						<input type="text" value="4" id="numerator" onInput="updateSignature()" class="embed" title="numerator">
						<hr>
						<input type="text" value="4" id="denominator" onInput="updateSignature()" class="embed" title="denominator">
					</div>
				</div>

				<br><br>

				<div class="signature-label">
					<p><strong>Click Volume</strong></p>
					<input id="volume" min="0" max="200" value="80" type="range" onInput="updateVolume()" class="embed" title="volume">
				</div>

				<div class="bpm-label">
					<p><strong>BPM</strong></p>
					<input id="bpm" min="5" max="800" value="120" type="number" onInput="updateBPM()" class="embed" title="bpm">
				</div>

				<br>

				<div class="beat-length-label">
					<p><strong>Beat Length</strong></p>
					<input type="radio" value="note-length" id="wholeNoteLength" onClick="updateBeatLength(4)" name="select">
					<label for="wholeNoteLength">Whole</label>
					<input type="radio" value="note-length" id="halfNoteLength" onClick="updateBeatLength(2)" name="select">
					<label for="halfNoteLength">Half</label>
					<input type="radio" value="note-length" id="dottedQuarterNoteLength" onClick="updateBeatLength(1.5)" name="select">
					<label for="dottedQuarterNoteLength">Dotted Quarter</label>
					<input type="radio" value="note-length" id="quarterNoteLength" onClick="updateBeatLength(1)" name="select" checked="checked">
					<label for="quarterNoteLength">Quarter</label>
					<input type="radio" value="note-length" id="eighthNoteLength" onClick="updateBeatLength(0.5)" name="select">
					<label for="eighthNoteLength">Eighth</label>
					<input type="radio" value="note-length" id="sixteenthNoteLength" onClick="updateBeatLength(0.25)" name="select">
					<label for="sixteenthNoteLength">Sixteenth</label>
				</div>

				<br>

				<div class="beat-length-label">
					<p><strong>Note Subdivisions</strong></p>
					<input type="radio" value="subdivision-length" id="noSubdivisions" onClick="updateSubdivisions(0)" name="subdivision" checked="checked">
					<label for="noSubdivisions">None</label>
					<input type="radio" value="subdivision-length" id="eighthSubdivisions" onClick="updateSubdivisions(1)" name="subdivision">
					<label for="eighthSubdivisions">Eighth</label>
					<input type="radio" value="subdivision-length" id="tripletSubdivisions" onClick="updateSubdivisions(2)" name="subdivision">
					<label for="tripletSubdivisions">Triplet</label>
					<input type="radio" value="subdivision-length" id="sixteenthSubdivisions" onClick="updateSubdivisions(3)" name="subdivision">
					<label for="sixteenthSubdivisions">Sixteenth</label>
				</div>

				<br>

				<div class="beat-length-label">
					<p><strong>Playback</strong></p>
					<label for="playNonAccentedBeats">Play Non-accented Beats</label>
					<input type="checkbox" value="play-non-accented-beats" id="playNonAccentedBeats" onChange="updatePlayNA()" checked>
					<label for="swingValue">Eighth Swing</label>
					<input type="range" value="50" id="swingValue" onInput="updateSwing()" min="50" max="75" disabled>
				</div>

				<br>

				<button id="togglePlayback" onClick="togglePlayback()">Play</button>

				<br><br>

				<div>
					<canvas class="shadow" id="beater" width="1500" height="350"></canvas>
				</div>
			</div>
		</div>
		
		<script src="metronome.js"></script>
		<script src="../../querystring.js"></script>
		<script src="../../sticky.js"></script>
	</body>
</html>
